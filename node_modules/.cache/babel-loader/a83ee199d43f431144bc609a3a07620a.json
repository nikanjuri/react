{"ast":null,"code":"var _jsxFileName = \"/Users/nikhilanjuri/Downloads/react/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport { Navbar, Container, Button } from \"react-bootstrap\";\nimport Table from \"./Table\";\nimport { useEffect, useState, useRef } from \"react\";\nimport results from \"./marker-results.json\";\nimport { keyToNameMapping, mergeTables } from \"./keyToName\";\nimport Info from \"./Info\";\nimport { Spinner } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport Papa from \"papaparse\";\nimport { useStateWithCallbackLazy } from 'use-state-with-callback';\nimport { json_data_url, customer_data_url, download_url, generate_url, generate_report_url } from \"./ApiPaths\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  // Added\n  const inpVal = useRef();\n  const [loading, setLoading] = useState(true);\n  const [customerData, setCustomerData] = useStateWithCallbackLazy(null);\n  const [selectValue, setSelectValue] = useState(\"dog\");\n  const [marker_results, setMarkerResults] = useState();\n  const [inputValue, setInputValue] = useState();\n  const [customerFileExists, setCustomerFileExists] = useState(false);\n  const [matrix_cols, setMatrixCols] = useState([]);\n  const [matrix_data, setMatrixData] = useState([]);\n  const [csv_uploaded_data, setCsvJsonData] = useStateWithCallbackLazy([]);\n  const [reportingAndInterpretation, setReportingAndInterpretation] = useState({});\n  const [selectedRows, setSelectedRows] = useState([]);\n\n  const handleChange = event => {\n    setCsvJsonData(event.target.files[0]);\n    setInputValue(event.target.files[0].name);\n  };\n\n  const changeSetSelectedRows = rowDetails => {\n    setSelectedRows(rowDetails);\n  };\n\n  const parseCsv = data => {\n    setCustomerFileExists(true);\n    Papa.parse(data, {\n      complete: res => setTable(marker_results, res.data),\n      header: true\n    });\n  }; // hook methods\n\n\n  useEffect(() => {\n    const list = results[Object.keys(results)];\n    setReportingAndInterpretation(list[0].reportingAndInterpretation);\n  }, [reportingAndInterpretation]); // Http Get\n\n  const fetchCustomerDataFromApi = () => {\n    // console.log(\"fetchCustomerDataFromApi\")\n    setLoading(true);\n    let response = fetch(customer_data_url).then(res => res.json()).then(data => {\n      data = JSON.parse(data);\n      setCustomerData(data);\n    }).catch(err => console.log(\"Refresh Error Occured\"));\n  };\n\n  useEffect(() => {\n    const fetchJsonDataFromApi = () => {\n      console.log(\"fetchJsonDataFromApi\");\n      setLoading(true);\n      let res = axios.get(json_data_url).then(res => {\n        const data = JSON.parse(res.data)[\"sampleList\"];\n        console.log(data);\n        setMarkerResults(data);\n        setTable(data, []);\n      }).catch(err => console.log(\"Refresh Error Occured\"));\n    };\n\n    fetchJsonDataFromApi();\n    fetchCustomerDataFromApi();\n  }, []); // Setting Table After getting data from api\n\n  const setTable = (data, uploaded_data) => {\n    const mergedData = mergeTables(data, uploaded_data);\n    setReportingAndInterpretation(data.reportingAndInterpretation);\n    setMatrixData(mergedData);\n    setMatrixCols(Object.keys(keyToNameMapping));\n    setLoading(false);\n  }; // Select Option Value Change Funciton\n\n\n  const handleSelectChange = e => {\n    setSelectValue(e.target.value);\n  };\n\n  const rerunButtonClicked = e => {\n    e.preventDefault();\n    setLoading(true); // console.log(\"rerunButtonClicked\")\n\n    axios.post(json_data_url, {\n      file_number: selectValue === \"dog\" ? \"1\" : \"2\"\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      const marker_results = [];\n      const data = JSON.parse(res.data);\n      data[\"sampleList\"].forEach(i => {\n        marker_results.unshift(i);\n      });\n      setTable(marker_results, []);\n    });\n  };\n\n  const customerDataUpload = e => {\n    e.preventDefault();\n    setLoading(true);\n    var formData = new FormData();\n\n    if (csv_uploaded_data.length === 0 || inpVal === undefined) {\n      alert(\"These Fields are required\");\n      setLoading(false);\n    } else {\n      formData.append(\"note\", inpVal.current);\n      formData.append(\"customer_file\", csv_uploaded_data);\n\n      if (csv_uploaded_data.name.split(\".\")[1] === \"csv\") {\n        axios.post(customer_data_url, formData, {\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          }\n        }).then(res => {\n          fetchCustomerDataFromApi();\n          setInputValue(\"\");\n          parseCsv(csv_uploaded_data);\n        });\n      } else {\n        alert(\"Please Upload a .csv file\");\n        setInputValue(\"\");\n        setLoading(false);\n      }\n    }\n  }; //custom methods\n\n\n  const generateSelectedData = (sampleID, refrenceID) => {\n    let filenumber = 1;\n    let res = axios.post(generate_report_url, {\n      filenumber,\n      sampleID\n    }, {\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      }\n    }).then(res => {\n      console.log(res);\n      alert(\"Report Generated Successfully!\");\n    }).catch(err => console.log(\"Refresh Error Occured\"));\n  };\n\n  const downloadData = () => {// console.log(selectedRows);\n  };\n\n  const generateReport = () => {\n    // console.log(selectedRows);\n    let filenumber = 1;\n    let res = axios.post(generate_report_url, {\n      filenumber\n    }, {\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      }\n    }).then(res => {\n      console.log(res);\n      alert(\"Report Generated Successfully!\");\n    }).catch(err => console.log(\"Refresh Error Occured\"));\n  };\n\n  return loading === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: \"100vh\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"border\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-title-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left-title\",\n        children: \"ION Torrent - AgriSeq Reporting and Interpretation Plugin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"thermo-fisher\",\n          children: \"ThermoFisher\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scientific-title\",\n          children: \"SCIENTIFIC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary-report-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary\",\n        children: \"Select run instances to view summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cover-analysis-wrapper\",\n        style: {\n          width: \"60%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"textheading\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"textheading\",\n            children: \"Coverage Analysis: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"pets\",\n            id: \"pet-select\",\n            style: {\n              width: \"30%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"dog\",\n              children: \"#538\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cat\",\n              children: \"#515\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"hamster\",\n              children: \"#511\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"textheading\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"textheading\",\n            children: \"Variant Caller: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"pets\",\n            id: \"pet-select\",\n            style: {\n              width: \"36%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"dog\",\n              children: \"#538\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cat\",\n              children: \"#515\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"hamster\",\n              children: \"#511\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"textheading\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"textheading\",\n            children: \"AgriSum Toolkit: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: handleSelectChange,\n            value: selectValue,\n            name: \"pets\",\n            id: \"pet-select\",\n            style: {\n              width: \"33%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"dog\",\n              children: \"Canine_Genotype matrix file_run07012022-2.xls\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cat\",\n              children: \"693-R_2021_01_15_09_35_30_user_S5XL-0237-63-Genomia-Pilsen-canine-PITD-Matrix.xls\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: rerunButtonClicked,\n          className: \"re-run-plugin-button\",\n          children: \"Rerun Plugin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"margins\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"agri-seq-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"agri-seq-left-side-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"AgriSeq\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Reporting and Interpretation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-container\",\n            children: /*#__PURE__*/_jsxDEV(Info, {\n              reportingAndInterpretation: reportingAndInterpretation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-reader-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"csv-upload-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Upload Customer Data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"csv-file-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"CSV File: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"file_name\",\n                disabled: true,\n                style: {\n                  width: \"45%\"\n                },\n                defaultValue: inputValue\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"csv-input\",\n                type: \"file\" // ref={(input) => {\n                //   this.filesInput = input;\n                // }}\n                ,\n                name: \"file\",\n                placeholder: null,\n                style: {\n                  display: \"none\"\n                },\n                onChange: handleChange,\n                id: \"getFile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"csv-browse-button\",\n                onClick: () => {\n                  document.getElementById(\"getFile\").click();\n                },\n                children: \"Browse...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"notes-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Notes:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                style: {\n                  width: \"76%\"\n                } // onChange={handleInpChange}\n                ,\n                ref: inpVal\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"upload-file-button\",\n              onClick: customerDataUpload,\n              children: [\" \", \"Upload File!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: [\"Files Uploaded\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: \"(Only last three displayed)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this), customerData !== null ? customerData.map((e, index) => {\n              return /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  children: [e.fields.date_created.split(\"T\")[0], \"\\xA0\\xA0\", e.fields.customer_file.split(\"/\")[1]]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 21\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this);\n            }) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pull-apart-max\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"buttonswrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"faateh-button\",\n                onClick: () => generateReport(),\n                children: \"Generate Report\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"faateh-button\",\n                disabled: selectedRows.length === 0,\n                children: \"Generate Selected\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                disabled: selectedRows.length === 0,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"faateh-button\",\n                  disabled: selectedRows.length === 0,\n                  children: \"Download\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"faateh-button\",\n                disabled: selectedRows.length === 0,\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"customer\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Customer:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"customer\",\n              id: \"customer\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"urban\",\n                children: \"Urban Animals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"baif\",\n                children: \"BAIF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"panel\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Panel:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"panel\",\n              id: \"panel\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"canine\",\n                children: \"CanineTDv1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"bovine\",\n                children: \"BovineTDv1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        name: \"DNA Table\",\n        data: matrix_data,\n        columns: matrix_cols,\n        changeSetSelectedRows: changeSetSelectedRows,\n        filenumber: selectValue === \"dog\" ? 1 : 2,\n        btnAvailable: !customerFileExists\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"BOqjK3+QNbjET7BPqfMXWaKuTNk=\", false, function () {\n  return [useStateWithCallbackLazy, useStateWithCallbackLazy];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/nikhilanjuri/Downloads/react/src/App.js"],"names":["Navbar","Container","Button","Table","useEffect","useState","useRef","results","keyToNameMapping","mergeTables","Info","Spinner","axios","Papa","useStateWithCallbackLazy","json_data_url","customer_data_url","download_url","generate_url","generate_report_url","App","inpVal","loading","setLoading","customerData","setCustomerData","selectValue","setSelectValue","marker_results","setMarkerResults","inputValue","setInputValue","customerFileExists","setCustomerFileExists","matrix_cols","setMatrixCols","matrix_data","setMatrixData","csv_uploaded_data","setCsvJsonData","reportingAndInterpretation","setReportingAndInterpretation","selectedRows","setSelectedRows","handleChange","event","target","files","name","changeSetSelectedRows","rowDetails","parseCsv","data","parse","complete","res","setTable","header","list","Object","keys","fetchCustomerDataFromApi","response","fetch","then","json","JSON","catch","err","console","log","fetchJsonDataFromApi","get","uploaded_data","mergedData","handleSelectChange","e","value","rerunButtonClicked","preventDefault","post","file_number","headers","forEach","i","unshift","customerDataUpload","formData","FormData","length","undefined","alert","append","current","split","generateSelectedData","sampleID","refrenceID","filenumber","downloadData","generateReport","height","display","alignItems","justifyContent","width","document","getElementById","click","color","map","index","fields","date_created","customer_file"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport { Navbar, Container, Button } from \"react-bootstrap\";\nimport Table from \"./Table\";\nimport { useEffect, useState, useRef } from \"react\";\nimport results from \"./marker-results.json\";\nimport { keyToNameMapping, mergeTables } from \"./keyToName\";\nimport Info from \"./Info\";\n\nimport { Spinner } from \"react-bootstrap\";\n\nimport axios from \"axios\";\nimport Papa from \"papaparse\";\nimport { useStateWithCallbackLazy } from 'use-state-with-callback'\nimport { json_data_url, customer_data_url, download_url, generate_url, generate_report_url } from \"./ApiPaths\";\n\n\nfunction App() {\n  // Added\n  const inpVal = useRef();\n  const [loading, setLoading] = useState(true);\n  const [customerData, setCustomerData] = useStateWithCallbackLazy(null);\n  const [selectValue, setSelectValue] = useState(\"dog\");\n  const [marker_results, setMarkerResults] = useState();\n  const [inputValue, setInputValue] = useState();\n  const [customerFileExists, setCustomerFileExists] = useState(false);\n\n  const [matrix_cols, setMatrixCols] = useState([]);\n  const [matrix_data, setMatrixData] = useState([]);\n  const [csv_uploaded_data, setCsvJsonData] = useStateWithCallbackLazy([]);\n  const [reportingAndInterpretation, setReportingAndInterpretation] = useState(\n    {}\n  );\n  const [selectedRows, setSelectedRows] = useState([]);\n\n  const handleChange = (event) => {\n    setCsvJsonData(event.target.files[0]);\n    setInputValue(event.target.files[0].name);\n  };\n\n  const changeSetSelectedRows = (rowDetails) => {\n    setSelectedRows(rowDetails);\n  };\n\n  const parseCsv = (data) => {\n    setCustomerFileExists(true)\n\n    Papa.parse(data, {\n      complete: (res) => setTable(marker_results, res.data),\n      header: true,\n    })\n  }\n\n  // hook methods\n  useEffect(() => {\n    const list = results[Object.keys(results)];\n    setReportingAndInterpretation(list[0].reportingAndInterpretation);\n  }, [reportingAndInterpretation]);\n\n  // Http Get\n  const fetchCustomerDataFromApi = () => {\n    // console.log(\"fetchCustomerDataFromApi\")\n    setLoading(true);\n    let response = fetch(customer_data_url)\n      .then((res) => res.json())\n      .then((data) => {\n        data = JSON.parse(data);\n\n        setCustomerData(data);\n      })\n      .catch((err) => console.log(\"Refresh Error Occured\"));\n  };\n\n\n  useEffect(() => {\n    const fetchJsonDataFromApi = () => {\n      console.log(\"fetchJsonDataFromApi\")\n      setLoading(true);\n      let res = axios.get(json_data_url)\n        .then((res) => {\n          const data = JSON.parse(res.data)[\"sampleList\"]\n\n          console.log(data)\n\n          setMarkerResults(data)\n          setTable(data, []);\n        })\n        .catch((err) => console.log(\"Refresh Error Occured\"));\n    };\n\n    fetchJsonDataFromApi();\n    fetchCustomerDataFromApi();\n\n\n  }, []);\n  // Setting Table After getting data from api\n  const setTable = (data, uploaded_data) => {\n    const mergedData = mergeTables(data, uploaded_data);\n\n    setReportingAndInterpretation(data.reportingAndInterpretation);\n    setMatrixData(mergedData);\n    setMatrixCols(Object.keys(keyToNameMapping));\n\n    setLoading(false)\n  };\n\n  // Select Option Value Change Funciton\n  const handleSelectChange = (e) => {\n    setSelectValue(e.target.value);\n  };\n\n  const rerunButtonClicked = (e) => {\n    e.preventDefault()\n    setLoading(true);\n    // console.log(\"rerunButtonClicked\")\n    axios\n      .post(\n        json_data_url,\n        {\n          file_number: selectValue === \"dog\" ? \"1\" : \"2\",\n        },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      )\n      .then((res) => {\n        const marker_results = [];\n        const data = JSON.parse(res.data);\n\n        data[\"sampleList\"].forEach((i) => {\n          marker_results.unshift(i);\n        });\n\n        setTable(marker_results, []);\n      });\n  };\n\n  const customerDataUpload = (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    var formData = new FormData();\n\n    if (csv_uploaded_data.length === 0 || inpVal === undefined) {\n      alert(\"These Fields are required\");\n      setLoading(false)\n    } else {\n      formData.append(\"note\", inpVal.current);\n      formData.append(\"customer_file\", csv_uploaded_data);\n\n      if (csv_uploaded_data.name.split(\".\")[1] === \"csv\") {\n        axios\n          .post(customer_data_url, formData, {\n            headers: {\n              'Content-Type': 'application/json',\n              'Accept': 'application/json'\n            },\n          })\n          .then((res) => {\n            fetchCustomerDataFromApi();\n            setInputValue(\"\");\n\n            parseCsv(csv_uploaded_data)\n          });\n      } else {\n        alert(\"Please Upload a .csv file\");\n        setInputValue(\"\");\n        setLoading(false);\n\n      }\n    }\n  };\n\n  //custom methods\n  const generateSelectedData = (sampleID, refrenceID) => {\n    let filenumber = 1;\n    let res = axios.post(generate_report_url, { filenumber,sampleID }, {\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      }\n    })\n      .then((res) => {\n        console.log(res);\n        alert(\"Report Generated Successfully!\")\n      })\n      .catch((err) => console.log(\"Refresh Error Occured\"));\n  };\n\n  const downloadData = () => {\n    // console.log(selectedRows);\n\n  };\n\n  const generateReport = () => {\n    // console.log(selectedRows);\n    let filenumber = 1;\n    let res = axios.post(generate_report_url, { filenumber }, {\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      }\n    })\n      .then((res) => {\n        console.log(res)\n        alert(\"Report Generated Successfully!\")\n      })\n      .catch((err) => console.log(\"Refresh Error Occured\"));\n  };\n\n  return loading === true ? (\n    <div\n      style={{\n        height: \"100vh\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <Spinner animation=\"border\" />{\" \"}\n    </div>\n  ) : (\n\n    <div>\n      <div className=\"page-title-wrapper\">\n        <div className=\"left-title\">\n          ION Torrent - AgriSeq Reporting and Interpretation Plugin\n        </div>\n        <div>\n          <div className=\"thermo-fisher\">ThermoFisher</div>\n          <div className=\"scientific-title\">SCIENTIFIC</div>\n        </div>\n      </div>\n      <div className=\"summary-report-wrapper\">\n        <div className=\"summary\">Select run instances to view summary</div>\n        <div className=\"cover-analysis-wrapper\" style={{ width: \"60%\" }}>\n          <div className=\"textheading\">\n            <span className=\"textheading\">Coverage Analysis: </span>\n\n            <select name=\"pets\" id=\"pet-select\" style={{ width: \"30%\" }}>\n              <option value=\"dog\">#538</option>\n              <option value=\"cat\">#515</option>\n              <option value=\"hamster\">#511</option>\n            </select>\n          </div>\n          <div className=\"textheading\">\n            <span className=\"textheading\">Variant Caller: </span>\n\n            <select name=\"pets\" id=\"pet-select\" style={{ width: \"36%\" }}>\n              <option value=\"dog\">#538</option>\n              <option value=\"cat\">#515</option>\n              <option value=\"hamster\">#511</option>\n            </select>\n          </div>\n          <div className=\"textheading\">\n            <span className=\"textheading\">AgriSum Toolkit: </span>\n\n            <select\n              onChange={handleSelectChange}\n              value={selectValue}\n              name=\"pets\"\n              id=\"pet-select\"\n              style={{ width: \"33%\" }}\n            >\n              {/* Use Other Files Here */}\n              <option value=\"dog\">\n                Canine_Genotype matrix file_run07012022-2.xls\n              </option>\n              <option value=\"cat\">\n                693-R_2021_01_15_09_35_30_user_S5XL-0237-63-Genomia-Pilsen-canine-PITD-Matrix.xls\n              </option>\n            </select>\n          </div>\n          <button\n            onClick={rerunButtonClicked}\n            className=\"re-run-plugin-button\"\n          >\n            Rerun Plugin\n          </button>\n        </div>\n      </div>\n      <div className=\"margins\">\n        <div className=\"agri-seq-wrapper\">\n          <div className=\"agri-seq-left-side-container\">\n            <h2>AgriSeq</h2>\n            <h1>Reporting and Interpretation</h1>\n            <div className=\"info-container\">\n              <Info reportingAndInterpretation={reportingAndInterpretation} />\n            </div>\n          </div>\n          <div className=\"file-reader-wrapper\">\n            <div className=\"csv-upload-container\">\n              <h5>Upload Customer Data</h5>\n              <div className=\"csv-file-wrapper\">\n                <b>CSV File: </b>\n\n                <input\n                  type=\"text\"\n                  id=\"file_name\"\n                  disabled={true}\n                  style={{ width: \"45%\" }}\n                  defaultValue={inputValue}\n                />\n                <input\n                  className=\"csv-input\"\n                  type=\"file\"\n                  // ref={(input) => {\n                  //   this.filesInput = input;\n                  // }}\n                  name=\"file\"\n                  placeholder={null}\n                  style={{ display: \"none\" }}\n                  onChange={handleChange}\n                  id=\"getFile\"\n                />\n                <button\n                  className=\"csv-browse-button\"\n                  onClick={() => {\n                    document.getElementById(\"getFile\").click();\n                  }}\n                >\n                  Browse...\n                </button>\n              </div>\n              <div className=\"notes-wrapper\">\n                <b>Notes:</b>\n                <input\n                  type=\"text\"\n                  style={{ width: \"76%\" }}\n                  // onChange={handleInpChange}\n                  ref={inpVal}\n                />\n              </div>\n              <button\n                className=\"upload-file-button\"\n                onClick={customerDataUpload}\n\n              >\n                {\" \"}\n                Upload File!\n              </button>\n\n              <h6>\n                Files Uploaded{\" \"}\n                <span style={{ color: \"red\" }}>\n                  (Only last three displayed)\n                </span>\n              </h6>\n\n              {customerData !== null ? customerData.map((e, index) => {\n                return (\n                  <p key={index}>\n                    <i>\n                      {e.fields.date_created.split(\"T\")[0]}\n                      &nbsp;&nbsp;\n                      {e.fields.customer_file.split(\"/\")[1]}\n                    </i>\n                  </p>\n                );\n              }) : \"\"}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"pull-apart-max\">\n          <div className=\"\">\n            <div className=\"buttonswrapper\">\n              <div>\n                <Button\n                  className=\"faateh-button\"\n                  onClick={() => generateReport()}\n                >\n                  Generate Report\n                </Button>\n              </div>\n              <div>\n                <Button\n                  className=\"faateh-button\"\n                  disabled={selectedRows.length === 0}\n                >\n                  Generate Selected\n                </Button>\n              </div>\n              <div>\n                <a\n                  disabled={selectedRows.length === 0}\n                >\n                  <Button\n                    className=\"faateh-button\"\n                    disabled={selectedRows.length === 0}\n                  >\n                    Download\n                  </Button>\n                </a>\n              </div>\n              <div>\n                <Button\n                  className=\"faateh-button\"\n                  disabled={selectedRows.length === 0}\n                >\n                  Email\n                </Button>\n              </div>\n            </div>\n          </div>\n          <div className=\"filter-wrapper\">\n            <div>\n              <label htmlFor=\"customer\">\n                <b>Customer:</b>\n              </label>\n              <select name=\"customer\" id=\"customer\">\n                <option value=\"urban\">Urban Animals</option>\n                <option value=\"baif\">BAIF</option>\n              </select>\n            </div>\n            <div>\n              <label htmlFor=\"panel\">\n                <b>Panel:</b>\n              </label>\n              <select name=\"panel\" id=\"panel\">\n                <option value=\"canine\">CanineTDv1</option>\n                <option value=\"bovine\">BovineTDv1</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <Table\n          name=\"DNA Table\"\n          data={matrix_data}\n          columns={matrix_cols}\n          changeSetSelectedRows={changeSetSelectedRows}\n          filenumber={selectValue === \"dog\" ? 1 : 2}\n          btnAvailable={!customerFileExists}\n\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}